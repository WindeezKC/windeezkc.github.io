<!DOCTYPE html>
<html>
<head>
	<title>COSC 594: mgP2</title>
    <h3>Kellan Christ and Marco Deleon</h3>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<header>
		<h1> COSC 594: Interactive Tech in HCI</h1>
        <h1> Paper Piano  </h2>
		<nav>
			<ul>
				<li><a href="index.html">Articles</a></li>
				<li><a href="index.html">About</a></li>
				<li><a href="index.html">Contact</a></li>
			</ul>
		</nav>
	</header>
    <main>
		<section>
			<h2>Introduction</h2>
			<p>
              
                The purpose of this project was to create some type of low-tech input with a high tech output. In essence, making something that is not usually powered or interactive and give it some type of life. A few examples are touch sensing lights, books that depending on where you press turn certain LEDs on, a paper version of flappy bird, a whiteboard that writes the time with servo motors, the list goes on and on.
                   
                </p>
                
            
         
            <h2>Planning</h2>
            <p>
                To start we had to come up with some type of low-tech input. Building off a previous uProject on touch capacitive buttons, we leaned this way on how we wanted to interact with whatever we were going to make. After some brainstorming, we came up with a few ideas that were shown in class to build off such as a Theremin Device getting controlled by different things, a memory game about which LEDs light up and you pressing them in that order. The hard part with the memory game was creating some type of analog way to store the LEDs chosen and what the user may choose. You can see the ideas we came up with in the photos below, most of them show the ideas or slight changes to certain ideas and how to control them.


            
            <div>
                <img class="MakeSmall" id= "vertical" src="imgs/brainstorm3.png"/>
            <img class="MakeSmall" id= "vertical" src="imgs/brainstorm2.png"/>
                </div>
                <div>
                    
                    <img class="MakeSmall"id= "vertical" src="imgs/brainstorm4.png"/>
                                       
                 <img class="MakeSmall" id= "vertical" src="imgs/brainstorm5.png"/>
                                        </div>
                </p>

                <p>
                    After coming up with some ideas and thinking about what we could do, we decided to make a low-tech piano based on touch capacitive sensors made of copper tape and paper circuits, with a few wires.

            <div>
                <img class="MakeSmall" id= "vertical" src="imgs/brainstorm1.png">
                </div>
            </p>
            <p>Based off this we chose between a music box and a piano as we wanted something that would give audible feedback to a user inputting or mimicking pressing a key. You can see in the below sketches of our piano idea to build off the first piano sketch we had made. Adding a few wires and some mock keys down to get a better picture of it. 

                <div>
                    <img class="MakeSmall" id= "vertical" src="imgs/planning3.png">

                </div>


            </p>

            <p>
                Building from the plan of a flat piano, we began to draw it out a bit. Knowing we would need a decent number of keys and a way to wire it, we planned to 3d print a base plate to lay down the keys (or strips of copper tape) in order to wire them up. This idea on paper led us to a decent first picture of what our piano would look like. This was also where we could plan some of the wiring and where we wanted the pins to go to the keys on the piano, going from left to right on the keyboard will play a lower note such that the farthest left key will play a highest pitch note and the farthest right key will play the lowest note.


                <p>
                    Now hearing from some classmates on the keys, they saw the 9 keys and knowing a full chord is 7 keys, making something to mimic the foot pedals in a piano, we went with using the farthest left and right key slots for that. This ends up allowing the user, hopefully, to have 7 normal keys, 7 higher pitched keys and 7 lower pitched keys with the left most key being the pitch up key and the right most key being the pitch down key.
                </p>
                <div>
                    <img class="MakeSmall" id= "vertical" src = "imgs/planning1.png">

                </div>





              
            </p>
            <p>You can see in this the 9 Keys we plan to use and the wiring for it. While the paper wiring looks messy, it is for us to 
                follow and connect to the arduino and use the piezo buzzer to create the sounds we want. Pins 3-11 will be the different
                 touch buttons while pin 2 will be the common send pin, each one will be linked with a 22 KOhm resistor. This allows us to
                  detect each key press with the most minimal amount of wires and circuits that we would have to make.
            </p>
            <p>
                Going further on the design we wanted to house it in some way and the best was some type of box that the piano keys could sit
                 on top of and then run the wires below it into the circuit and allow us to play the sounds we want based on the key presses. 
                 This idea looks a little simpler than all those wires as shown below.
            <div>
                <img class="MakeSmall" id= "vertical" src = "imgs/planning2.png">

            </div>
            <p>
            This is just a rough sketch of what we plan, as we want to hide as much of the wiring and circuits as
             possible allowing for a sleeker look to the piano instead of a bunch of random wirings and hardware laying around.
             </p>
            </p>
            <h2>Modeling</h2>
            <p>
                To make the keys seem more like keys on a piano, we decided making a simple 3d model was the best choice for this. Creating a
                 simple box with an edge and in between each key another slight edge in order to determine the difference in keys but also help to
                  keep the copper tape we planned on using from touching one another and running into issues there. In Fusion 360 it was pretty straight
                   forward and that was start with a box, raise the edges and add in the dividers we would need to get. This began to take shape as a simple 
                   sketch that looks something like this.
                <div>
                    <img src = "imgs/pianoModel1.png">
                </div>

            </p>
            <p>
                After extruding the pieces out we need and cutting away at the backside of the box
                 in order to make the running of wires easier and lay flatter, we get this in fusion 360.            
                     <div>
                    <img src = "imgs/pianoModel2.png">
                    
                </div>
            </p>
            <p>
                From here, between our model in Fusion 360 and sketch, you can see our plan of using the 3d printer to make a housing for the keys, 
                then hide the wiring and use paper and drawn paper circuits to decide on our keys pressed and play the sound we want from the arduino.
                 To power the arduino we would use a 9v battery running into the ground portion of the arduino and the VIN as well for power. The piezo 
                 buzzer would get wired up to the arduino off it.
            </p>
<h2>Piecing it Together</h2>

            <p>
                After all the modeling had been done, prototyping and planning it was time to fully assemble all the pieces. Starting with covering the piano key plate we made in copper tape so there is something conductive to touch, to soldering the resistors and wires together and assembling it all together in  a housing, or in this case a shoe box. 
                Soldering 1 resistor end to an extra piece of wire and then another wire with a male pin to plug into the breadboard allows us to wire the extra piece to the key on the keyboard, solder it and allow the current to run through the resistor and be read by the Arduino on  the breadboard. Having to repeat this 9 times over for each key on the piano.
                <div>
                    <img id= "vertical" src = "imgs/solder1.png">
                    <img id= "vertical" src = "imgs/solder2.png">
                    
                    
                </div>
            </p>

            <p>
                Here you can see how the wire is now soldered to the single piano key in the picture. Each key has a few strips of copper tape and a little bit of solder there so we  can solder the rest of the wires to the keys. This now allows us to have a touch capacitive input for our piano once it is all wired together. 
                <div>
                <img  id= "vertical"src = "imgs/solder3.png">
                <img id= "vertical" src = "imgs/solder4.png">
                </div>
            </p>
            <p>
                To show the finished wiring on the piano plate we can look at the picture below and you can see that we have 7 red wires and 2 black, this was done so the 2 black can represent the pedal ‘keys’ we added. 

                    Moving forward we can see the wiring on the breadboard. While it looks messy it is much like our hand drawn picture. We have one common send pin which is pin 2 on the Arduino. The rest are for each key which are pins 4-10 and 3 and 11 are wired with a send pin on A3 as we will explain why. The send pin is running into the negative side of the breadboard, while the negative does not matter we chose there as it was easiest to lay wires into and gave us enough open spaces on the Arduino to plug in each key. This allows them to determine what key is being pressed. The only downside to doing it this way is we can only touch 1 key at a time. Knowing this we had to have the pedal keys wired to a different send pin as we could not change the pitch due to us only being allowed to press 1 key at a time. This now meant, swapping the 2 pedal keys with pins 3 and 11 and a send pin of A3 , we could press either pedal key and the 1 of the 7 normal piano keys. This gave us 21 different notes we could now technically play. 
                    With all the wiring done we ended up with a finished look that we aimed for where it was all hidden in the shoe box and the only piece you could see was the piano key plate as we had planned, as well as a tiny portion of wiring as that was almost impossible to hide with how it was wired and soldered together. 
                <div>
                    <img  src ="imgs/pianoBox2.png">
                </div>
                    

            </p>
    


<h2>Demo</h2>
<p>
            The finished product now becomes a working piano with musical notes as you'd expect from a normal piano. To see and hear it, watch this video of it in action.


<div>
    <video width="1280 px" height="720px"
    controls="controls"/>
     
    <source src="imgs/pianoVid.mp4"
        type="video/mp4">
</video>
</div>
</p>
<p>
        To see the simple arduino code for this, check it out on gihthub <a href="https://github.com/WindeezKC/594/tree/main/mgp2" >here</a>.

</p>

<h2>Issues/Troubleshooting</h2>
<p>
    While many of the issues were avoided with sketching and planning by visualizing the wiring along with other things, the only problem we could not solve was the issue of powering the entire piano off a battery. Using a 9v and adapter to be able to plug it into the Arduino was not enough to power the keyboard and piezo buzzer. Using the 9v battery we were able to supply power to the Arduino and knew this because the Arduino was lit up and acting as if it had power. Doing some research showed us that the Arduino nano has a voltage regulator so our best guess is the voltage was getting dropped by the Arduino and causing it not to be able to be powered. While we were hoping to do this for in all in one piano box, we unfortunately still had to use the power from the USB-c cable connected to our laptop. While the issue does not affect performance it is still a little unfortunate. We would most likely be able to find a better solution with a series a batteries such as AA’s but without the time to get these parts to wire them together, we stuck with just using the laptop as power.
</p>
<h2>Conclusion</h2>
<p>
    For this project, we went through an extensive design process. Many ideas were considered that involved creating either a low-tech input device or low-tech output device. While considering which project to move forward with, we kept in mind the guidelines of this project such as being able to take risks while also delivering high-quality work. We decided that the low-tech piano was what we wanted to build. Our initial idea was to build a 9-key piano that uses touch capacitive sensors made of copper tape and paper circuits, but after the critiquing session, we made adjustments to our original idea. We modified two keys to act as the foot pedals on a normal piano. In addition to making the piano, we also built a base plate so we could lay down the keys and a box so we could house all the wires involved. In the future, we would like to involve more keys into the piano and allow more than one key to be pressed at a time
    </p>


    
		</section>
	</main>
    <footer>
		<p>&copy; 2023 Kellan Christ. All rights reserved.</p>
	</footer>
    </body>
    </html>
    